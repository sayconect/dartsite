{%  extends 'base.html'  %}
{%  load static  %}
{%  block content  %}

<section class="blog-post-area">
    <div class="container">
        <div class="row">
            <div class="blog-post-area-style">
            
                    {% for item in news %}
                    <div class="col-md-3">
                        <div class="single-post">
                            <img src="{{  item.photo.url  }}" alt="">
                            <h3><a href="{% url 'news' item.slug %}">{{  item.title  }}</a></h3>
                            <h4><span>Posted By: <span class="author-name">{{  item.author  }}</span></span>
                            </h4>
                            <p id='one-post'>{{  item.content|safe|truncatewords_html:20  }}</p>
                            <h4><span>{{ item.created_at|date:"d F Y"  }}</span></h4>
                        </div>
                    </div>
                    {%  empty  %}
                    <h2>Ooops, nothing</h2>
                    {%  endfor  %}
            </div>
        </div>
    </div>

    {%  if page_obj.has_other_pages  %}
    <div class="pegination">
        <div class="nav-links">
            {%  if page_obj.has_previous  %}
            <a class="page-numbers" href="?page={{ page_obj.previous_page_number }}"><i class="fa fa-angle-left" aria-hidden="true"></i></a>
            {%  endif  %}

            {%  for p in page_obj.paginator.page_range  %}
            
            {%  if page_obj.number == p  %}
            <a class="page-numbers current" href="?page={{  p  }}">{{  p  }}</a>

            {%  elif p > page_obj.number|add:-3 and p < page_obj.number|add:3  %}
            <a class="page-numbers" href="?{{  search  }}page={{  p  }}">{{  p  }}</a>

            {%  endif  %}
            {%  endfor  %}

            {%  if page_obj.has_next  %}
            <a class="page-numbers" href="?page={{ page_obj.next_page_number }}"><i class="fa fa-angle-right" aria-hidden="true"></i></a>
            {%  endif  %}
        </div>
    </div>
    {% endif %}
</section>

{%  endblock  %}